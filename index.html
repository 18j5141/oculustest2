<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>temple</title>
  <meta name="description" content="temple">
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
  
  <script>
    function moji(){
      document.getElementById("text").setAttribute("value","next scene");
      setTimeout(tugi, 2000);
    }
    function tugi(){
      window.location.href = "https://18j5141.github.io/meiseisound3/"
    }

    AFRAME.registerComponent('test', {
      init: function () {
        console.log(this);
        const element = this.el;
        element.addEventListener('sound-loaded', function () {
          console.log('sound-loaded');
          setTimeout(function () {
            element.components.sound.playSound();
          }, 1000);
          
        });
        element.addEventListener('mouseenter', function () {
          console.log('mouseenter');
          element.components.sound.pauseSound();
          document.getElementById("text").setAttribute("value","Get!");
          setTimeout(moji, 5000);
          
        });
      }
    });

  </script>
</head>

<body>
  <a-scene>
    <a-assets>
      <img id="tera" src="rentyakuji.jpg" preload="auto"></img> 
      <audio id="annai" src="annai2.mp3" preload="auto"></audio>
    </a-assets>
    <a-camera>
      <a-cursor fuse="true" fuse-timeout="1000"></a-cursor> 
    </a-camera>
    <a-box id="box" rotation="0 -20 0" width="3" height="3" depth="0" position="-7 2 30"
      material="opacity: 0;" sound="src: #annai; autoplay: true; loop:true;" test>
    </a-box>
    <a-entity camera look-controls position="0 1.7 0">
      <a-text id = "text" value="Find" position = "0 0 -1" scale = "0.5 0.5 0.5" align = "center" color="#87CEFA" ></a-text>
    </a-entity>
    
    <a-sky src="#tera" rotation="0 180 0"></a-sky>
  </a-scene>
</body>

</html>